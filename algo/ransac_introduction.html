<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº†è§£RANSACç®—æ³•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f0f4f8;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            animation: fadeIn 1s ease-in;
        }
        h2 {
            color: #0066cc;
            animation: fadeIn 1.5s ease-in;
        }
        p {
            color: #34495e;
        }
        ul {
            list-style-type: disc;
            margin-left: 20px;
        }
        .example {
            background-color: #e8f1ff;
            padding: 15px;
            border-left: 5px solid #0066cc;
            margin: 15px 0;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .example:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        canvas {
            display: block;
            margin: 20px auto;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        button {
            display: block;
            margin: 10px auto;
            padding: 10px 20px;
            background-color: #0066cc;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #0052a3;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }
            canvas {
                width: 100%;
                height: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ä»€ä¹ˆæ˜¯RANSACç®—æ³•ï¼Ÿ</h1>
        <p>RANSACï¼ˆéšæœºé‡‡æ ·ä¸€è‡´æ€§ï¼ŒRANdom SAmple Consensusï¼‰æ˜¯ä¸€ç§å¼ºå¤§çš„ç®—æ³•ï¼Œç”¨äºä»åŒ…å«å™ªå£°æˆ–å¼‚å¸¸ç‚¹çš„æ•°æ®ä¸­æå–æ­£ç¡®çš„æ¨¡å‹ã€‚å®ƒå¹¿æ³›åº”ç”¨äºè®¡ç®—æœºè§†è§‰ã€å›¾åƒå¤„ç†ç­‰é¢†åŸŸï¼Œæ¯”å¦‚ä»æ‚ä¹±çš„ç‚¹ä¸­æ‰¾å‡ºä¸€æ¡ç›´çº¿æˆ–åŒ¹é…å›¾åƒç‰¹å¾ç‚¹ã€‚</p>

        <h2>æ ¸å¿ƒæ€æƒ³</h2>
        <p>RANSACå‡è®¾æ•°æ®ä¸­å¤§éƒ¨åˆ†ç‚¹ï¼ˆç§°ä¸ºâ€œå†…ç‚¹â€ï¼‰ç¬¦åˆæŸä¸ªæ¨¡å‹ï¼Œè€Œå°‘éƒ¨åˆ†ç‚¹ï¼ˆç§°ä¸ºâ€œç¦»ç¾¤ç‚¹â€ï¼‰æ˜¯é”™è¯¯çš„ã€‚é€šè¿‡éšæœºæŒ‘é€‰ä¸€å°éƒ¨åˆ†æ•°æ®æ¥æ„å»ºæ¨¡å‹ï¼Œç„¶åæ£€æŸ¥å…¶ä»–ç‚¹æ˜¯å¦ç¬¦åˆè¿™ä¸ªæ¨¡å‹ï¼ŒRANSACèƒ½æ‰¾åˆ°æœ€ç¬¦åˆå¤§éƒ¨åˆ†æ•°æ®çš„æ¨¡å‹ã€‚</p>

        <h2>å·¥ä½œæ­¥éª¤</h2>
        <ul>
            <li><strong>éšæœºé€‰ç‚¹</strong>ï¼šä»æ•°æ®ä¸­éšæœºæŒ‘é€‰ä¸€å°éƒ¨åˆ†ç‚¹ï¼ˆæ¯”å¦‚æ‹Ÿåˆç›´çº¿éœ€è¦2ä¸ªç‚¹ï¼‰ã€‚</li>
            <li><strong>æ„å»ºæ¨¡å‹</strong>ï¼šç”¨è¿™äº›ç‚¹ç”Ÿæˆä¸€ä¸ªæ¨¡å‹ï¼ˆæ¯”å¦‚ä¸€æ¡ç›´çº¿ï¼‰ã€‚</li>
            <li><strong>æ£€æŸ¥ä¸€è‡´æ€§</strong>ï¼šæµ‹è¯•å…¶ä»–ç‚¹æ˜¯å¦â€œæ¥è¿‘â€è¿™ä¸ªæ¨¡å‹ï¼Œæ¥è¿‘çš„ç‚¹æ˜¯å†…ç‚¹ã€‚</li>
            <li><strong>è®°å½•æœ€ä½³æ¨¡å‹</strong>ï¼šå¦‚æœè¿™ä¸ªæ¨¡å‹çš„å†…ç‚¹æ•°é‡å¤šäºä¹‹å‰çš„æ¨¡å‹ï¼Œå°±ä¿å­˜å®ƒã€‚</li>
            <li><strong>é‡å¤</strong>ï¼šå¤šæ¬¡é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œé€‰å‡ºå†…ç‚¹æœ€å¤šçš„æ¨¡å‹ã€‚</li>
        </ul>

        <h2>ä¾‹å­1ï¼šæ‹Ÿåˆç›´çº¿</h2>
        <div class="example">
            <p>æƒ³è±¡ä½ æœ‰ä¸€å †ç‚¹ï¼Œå¤§éƒ¨åˆ†æ¥è¿‘ä¸€æ¡ç›´çº¿ï¼Œä½†æœ‰ä¸€äº›ç‚¹å®Œå…¨åç¦»ã€‚RANSACéšæœºé€‰ä¸¤ä¸ªç‚¹ç”»ä¸€æ¡ç›´çº¿ï¼Œç„¶åæ£€æŸ¥å…¶ä»–ç‚¹åˆ°ç›´çº¿çš„è·ç¦»ã€‚è·ç¦»å°çš„ç‚¹æ˜¯â€œå†…ç‚¹â€ï¼ˆç»¿è‰²ï¼‰ï¼Œè·ç¦»å¤§çš„æ˜¯â€œç¦»ç¾¤ç‚¹â€ï¼ˆçº¢è‰²ï¼‰ã€‚é‡å¤å¤šæ¬¡åï¼Œé€‰å‡ºå†…ç‚¹æœ€å¤šçš„ç›´çº¿ï¼Œè¿™å°±æ˜¯æœ€ä½³ç»“æœï¼</p>
            <p><strong>å¯è§†åŒ–</strong>ï¼šä¸‹æ–¹æ˜¯ä¸€ä¸ªç®€åŒ–çš„RANSACç¤ºä¾‹ï¼Œç»¿è‰²ç‚¹æ˜¯å†…ç‚¹ï¼Œçº¢è‰²ç‚¹æ˜¯ç¦»ç¾¤ç‚¹ï¼Œè“è‰²çº¿æ˜¯æ‹Ÿåˆçš„ç›´çº¿ã€‚ç‚¹å‡»â€œé‡æ–°è¿è¡Œâ€æŒ‰é’®å¯æŸ¥çœ‹ä¸åŒç»“æœã€‚</p>
            <canvas id="ransacCanvas" width="600" height="400"></canvas>
            <button onclick="drawRANSAC()">é‡æ–°è¿è¡Œ</button>
        </div>

        <h2>ä¾‹å­2ï¼šè¿åŠ¨ä¼°è®¡</h2>
        <div class="example">
            <p>åœ¨è®¡ç®—æœºè§†è§‰ä¸­ï¼Œè¿åŠ¨ä¼°è®¡æ˜¯RANSACçš„ç»å…¸åº”ç”¨ã€‚å‡è®¾ä½ æœ‰ä¸¤å¼ è¿ç»­æ‹æ‘„çš„ç…§ç‰‡ï¼Œæƒ³çŸ¥é“ç›¸æœºå¦‚ä½•ç§»åŠ¨ï¼ˆæ¯”å¦‚å¹³ç§»æˆ–æ—‹è½¬ï¼‰ã€‚é€šè¿‡æå–ä¸¤å¼ å›¾ä¸­çš„ç‰¹å¾ç‚¹ï¼ˆå¦‚è§’ç‚¹ï¼‰ï¼ŒRANSACå¯ä»¥éšæœºé€‰æ‹©å‡ ç»„åŒ¹é…ç‚¹ï¼Œè®¡ç®—ä¸€ä¸ªå˜æ¢æ¨¡å‹ï¼ˆå¦‚å¹³ç§»æˆ–æ—‹è½¬çŸ©é˜µï¼‰ï¼Œç„¶åæ£€æŸ¥å…¶ä»–åŒ¹é…ç‚¹æ˜¯å¦ç¬¦åˆè¿™ä¸ªæ¨¡å‹ã€‚ç¬¦åˆçš„ç‚¹ï¼ˆå†…ç‚¹ï¼‰è¡¨ç¤ºæ­£ç¡®çš„åŒ¹é…ï¼Œè€Œä¸ç¬¦åˆçš„ç‚¹ï¼ˆç¦»ç¾¤ç‚¹ï¼‰å¯èƒ½æ˜¯é”™è¯¯çš„åŒ¹é…ï¼ˆæ¯”å¦‚å…‰ç…§å˜åŒ–æˆ–ç‰©ä½“é®æŒ¡å¯¼è‡´ï¼‰ã€‚é€šè¿‡å¤šæ¬¡è¿­ä»£ï¼ŒRANSACæ‰¾åˆ°æœ€ç¬¦åˆå¤§éƒ¨åˆ†åŒ¹é…ç‚¹çš„å˜æ¢æ¨¡å‹ï¼Œä»è€Œå‡†ç¡®ä¼°è®¡ç›¸æœºçš„è¿åŠ¨ã€‚</p>
        </div>

        <h2>åº”ç”¨åœºæ™¯</h2>
        <ul>
            <li>å›¾åƒæ‹¼æ¥ï¼šä»ä¸¤å¼ å›¾ç‰‡çš„ç‰¹å¾ç‚¹ä¸­æ‰¾åˆ°æ­£ç¡®çš„åŒ¹é…å…³ç³»ã€‚</li>
            <li>æœºå™¨äººå¯¼èˆªï¼šåœ¨æ‚ä¹±çš„ç¯å¢ƒä¸­æ„å»ºåœ°å›¾ã€‚</li>
            <li>3Då»ºæ¨¡ï¼šä»ç‚¹äº‘æ•°æ®ä¸­æå–å¹³é¢æˆ–å½¢çŠ¶ã€‚</li>
            <li>è¿åŠ¨ä¼°è®¡ï¼šè®¡ç®—ç›¸æœºæˆ–ç‰©ä½“çš„è¿åŠ¨è½¨è¿¹ã€‚</li>
        </ul>

        <h2>ä¼˜ç‚¹ä¸å±€é™</h2>
        <p><strong>ä¼˜ç‚¹</strong>ï¼šèƒ½å¾ˆå¥½åœ°å¤„ç†åŒ…å«å¼‚å¸¸ç‚¹çš„æ•°æ®ï¼Œç®€å•ä¸”é²æ£’ã€‚</p>
        <p><strong>å±€é™</strong>ï¼šéœ€è¦è®¾ç½®åˆé€‚çš„å‚æ•°ï¼ˆæ¯”å¦‚è¿­ä»£æ¬¡æ•°æˆ–è¯¯å·®é˜ˆå€¼ï¼‰ï¼Œç»“æœå¯èƒ½å› éšæœºæ€§è€Œç•¥æœ‰å˜åŒ–ã€‚</p>

        <p>RANSACå°±åƒä¸€ä¸ªèªæ˜çš„â€œè¿‡æ»¤å™¨â€ï¼Œä»æ‚ä¹±çš„æ•°æ®ä¸­æ‰¾å‡ºè§„å¾‹ï¼Œæ˜¯è®¸å¤šé«˜ç§‘æŠ€åº”ç”¨èƒŒåçš„ç§˜å¯†æ­¦å™¨ï¼</p>
    </div>

    <script>
        const canvas = document.getElementById('ransacCanvas');
        const ctx = canvas.getContext('2d');

        function generatePoints() {
            const points = [];
            for (let i = 0; i < 50; i++) {
                if (Math.random() < 0.7) { // 70% inliers near y = 0.5x + 100
                    const x = Math.random() * 600;
                    const y = 0.5 * x + 100 + (Math.random() - 0.5) * 10; // Reduced noise
                    points.push({ x, y, isInlier: true });
                } else { // 30% outliers
                    const x = Math.random() * 600;
                    const y = Math.random() * 400;
                    points.push({ x, y, isInlier: false });
                }
            }
            return points;
        }

        function runRANSAC(points) {
            let bestLine = { slope: 0, intercept: 0, inliers: [] };
            let maxInliers = 0;

            for (let i = 0; i < 500; i++) { // Increased iterations
                const idx1 = Math.floor(Math.random() * points.length);
                let idx2 = Math.floor(Math.random() * points.length);
                while (idx2 === idx1) idx2 = Math.floor(Math.random() * points.length);
                const p1 = points[idx1], p2 = points[idx2];

                // Calculate line (y = mx + b)
                const slope = (p2.y - p1.y) / (p2.x - p1.x);
                const intercept = p1.y - slope * p1.x;

                // Count inliers
                const inliers = [];
                points.forEach(p => {
                    const distance = Math.abs(p.y - (slope * p.x + intercept)) / Math.sqrt(1 + slope * slope);
                    if (distance < 10) { // Tighter threshold
                        inliers.push(p);
                        p.isInlier = true;
                    } else {
                        p.isInlier = false;
                    }
                });

                if (inliers.length > maxInliers) {
                    maxInliers = inliers.length;
                    bestLine = { slope, intercept, inliers };
                }
            }
            return bestLine;
        }

        function drawRANSAC() {
            const points = generatePoints();
            const bestLine = runRANSAC(points);

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw points
            points.forEach(p => {
                ctx.beginPath();
                ctx.arc(p.x, p.y, 2, 0, 2 * Math.PI); // Smaller dots
                ctx.fillStyle = p.isInlier ? 'green' : 'red';
                ctx.fill();
            });

            // Draw the best line
            ctx.beginPath();
            ctx.moveTo(0, bestLine.slope * 0 + bestLine.intercept);
            ctx.lineTo(600, bestLine.slope * 600 + bestLine.intercept);
            ctx.strokeStyle = 'blue';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Add labels
            ctx.font = '14px Arial';
            ctx.fillStyle = 'black';
            ctx.fillText('æ‹Ÿåˆç›´çº¿ (è“è‰²)', 10, 20);
            ctx.fillStyle = 'green';
            ctx.fillText('å†…ç‚¹', 10, 40);
            ctx.fillStyle = 'red';
            ctx.fillText('ç¦»ç¾¤ç‚¹', 10, 60);
        }

        // Initial draw
        drawRANSAC();
    </script>
    
    <!-- å›åˆ°é¦–é¡µæŒ‰é’® -->
    <div style="position: fixed; bottom: 30px; right: 30px; z-index: 1000;">
        <a href="../index.html" 
           style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 20px; 
                  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                  color: white; text-decoration: none; border-radius: 50px; 
                  font-weight: 600; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); 
                  transition: all 0.3s ease; font-size: 14px;">
            <span style="font-size: 16px;">ğŸ </span>
            å›åˆ°é¦–é¡µ
        </a>
    </div>
    
    <style>
        /* å›åˆ°é¦–é¡µæŒ‰é’®æ‚¬åœæ•ˆæœ */
        div[style*="position: fixed"] a:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            div[style*="position: fixed"] {
                bottom: 20px !important;
                right: 20px !important;
            }
            
            div[style*="position: fixed"] a {
                padding: 10px 16px !important;
                font-size: 12px !important;
            }
        }
    </style>
</body>
</html>