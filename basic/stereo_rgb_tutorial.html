<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒç›®å•è‰²ç›¸æœºé‡å»º + RGBè´´å›¾ ç§‘æ™®æ•™ç¨‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 50px;
            animation: fadeIn 0.6s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        
        h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin: 25px 0 15px 0;
        }
        
        .card {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        .formula-box {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
            line-height: 1.6;
        }
        
        .highlight {
            background: #ffd93d;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        .flow-diagram {
            background: white;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }
        
        .flow-step {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            margin: 10px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .arrow {
            display: inline-block;
            color: #667eea;
            font-size: 2em;
            margin: 0 10px;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .icon-box {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-radius: 10px;
            transition: transform 0.3s ease;
        }
        
        .icon-box:hover {
            transform: scale(1.05);
        }
        
        .icon {
            font-size: 3em;
            margin-bottom: 15px;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .code-inline {
            background: #e9ecef;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #d63384;
        }
        
        ul, ol {
            margin: 15px 0 15px 30px;
        }
        
        li {
            margin: 10px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .top-margin {
            margin-top: 20px;
        }

        .small-top-margin {
            margin-top: 10px;
        }

        .arrow-down {
            transform: rotate(90deg);
            display: block;
            margin: 10px auto;
        }

        .yellow-highlight {
            color: #ffd93d;
        }

        .green-highlight {
            color: #28a745;
        }

        .green-row {
            background: #d4edda;
        }

        .success-card {
            background: #d4edda;
            border-color: #28a745;
        }

        .text-left {
            text-align: left;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .interactive-demo {
            background: #f0f4f8;
            padding: 30px;
            border-radius: 10px;
            margin: 30px 0;
            text-align: center;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        footer {
            background: #2d3748;
            color: white;
            text-align: center;
            padding: 30px;
        }
        
        @media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
            
            header h1 {
                font-size: 1.8em;
            }
            
            .content {
                padding: 20px;
            }

            .formula-box {
                font-size: 0.9em;
                padding: 15px;
                overflow-x: auto;
                white-space: pre;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¥ åŒç›®å•è‰²ç›¸æœºé‡å»º + RGBè´´å›¾</h1>
            <p>ä»åŸç†åˆ°å®è·µçš„å®Œæ•´ç§‘æ™®æ•™ç¨‹</p>
        </header>
        
        <div class="content">
            
            <!-- ç¬¬ä¸€éƒ¨åˆ†ï¼šç³»ç»Ÿæ¦‚è¿° -->
            <div class="section">
                <h2>ğŸ“· ä¸€ã€ç³»ç»Ÿæ¶æ„æ¦‚è¿°</h2>
                
                <div class="grid-2">
                    <div class="icon-box">
                        <div class="icon">ğŸ‘ï¸ğŸ‘ï¸</div>
                        <h3>åŒç›®å•è‰²ç›¸æœº</h3>
                        <p>ç”¨äºç«‹ä½“åŒ¹é…<br>è·å–æ·±åº¦ä¿¡æ¯</p>
                    </div>
                    <div class="icon-box">
                        <div class="icon">ğŸ¨</div>
                        <h3>RGBå½©è‰²ç›¸æœº</h3>
                        <p>ç”¨äºçº¹ç†é‡‡é›†<br>æä¾›é¢œè‰²ä¿¡æ¯</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3>ğŸ’¡ ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</h3>
                    <ul>
                        <li><strong>åŒç›®monoï¼š</strong>å•è‰²ä¼ æ„Ÿå™¨å¯¹æ¯”åº¦é«˜ã€å™ªå£°ä½ï¼Œç«‹ä½“åŒ¹é…æ›´å‡†ç¡®</li>
                        <li><strong>RGBå•ç‹¬ï¼š</strong>å½©è‰²ç›¸æœºåˆ†è¾¨ç‡é«˜ã€è‰²å½©å‡†ç¡®ï¼Œçº¹ç†è´¨é‡å¥½</li>
                        <li><strong>åˆ†å·¥åˆä½œï¼š</strong>å„å¸å…¶èŒï¼Œæ—¢æœ‰ç²¾ç¡®æ·±åº¦åˆæœ‰çœŸå®è‰²å½©</li>
                    </ul>
                </div>
                
                <div class="flow-diagram">
                    <h3>å®Œæ•´å·¥ä½œæµç¨‹</h3>
                    <div class="top-margin">
                        <div class="flow-step">åŒç›®é‡‡å›¾</div>
                        <span class="arrow">â†’</span>
                        <div class="flow-step">ç«‹ä½“åŒ¹é…</div>
                        <span class="arrow">â†’</span>
                        <div class="flow-step">3Dé‡å»º</div>
                        <br><br>
                        <span class="arrow arrow-down">â†“</span>
                        <br>
                        <div class="flow-step">åæ ‡è½¬æ¢</div>
                        <span class="arrow">â†’</span>
                        <div class="flow-step">ç•¸å˜æŠ•å½±</div>
                        <span class="arrow">â†’</span>
                        <div class="flow-step">RGBè´´å›¾</div>
                    </div>
                </div>
            </div>
            
            <!-- ç¬¬äºŒéƒ¨åˆ†ï¼šåæ ‡ç³»è½¬æ¢ -->
            <div class="section">
                <h2>ğŸ”„ äºŒã€åæ ‡ç³»è½¬æ¢è¯¦è§£</h2>
                
                <h3>2.1 åæ ‡ç³»å…³ç³»é“¾</h3>
                <div class="formula-box">
ä¸–ç•Œåæ ‡ç³» (æ ‡å®šæ¿)
    â†“
åŸå§‹å·¦ç›¸æœºåæ ‡ç³» â†â”€[R_rgb, T_rgb]â”€ RGBç›¸æœºåæ ‡ç³»
    â†“                                    â†‘
[R_rect æçº¿çŸ«æ­£]                        |
    â†“                                    |
çŸ«æ­£åå·¦ç›¸æœºåæ ‡ç³»                        |
    â†“                                    |
ã€ç‚¹äº‘åœ¨è¿™é‡Œã€‘â”€â”€â”€â”€â”€â”€â”€â”€éœ€è¦è½¬æ¢â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </div>
                
                <div class="card">
                    <h3>ğŸ¯ æ ¸å¿ƒé—®é¢˜</h3>
                    <p>ç‚¹äº‘åœ¨<span class="highlight">çŸ«æ­£åå·¦ç›¸æœºåæ ‡ç³»</span>ï¼Œä½†RGBç›¸æœºçš„æ ‡å®šå¤–å‚æ˜¯ç›¸å¯¹<span class="highlight">åŸå§‹å·¦ç›¸æœº</span>çš„ã€‚</p>
                    <p class="small-top-margin">æˆ‘ä»¬éœ€è¦å»ºç«‹ä»<span class="code-inline">çŸ«æ­£ååæ ‡ç³»</span>åˆ°<span class="code-inline">RGBåæ ‡ç³»</span>çš„æ¡¥æ¢ã€‚</p>
                </div>
                
                <h3>2.2 ä»€ä¹ˆæ˜¯æçº¿çŸ«æ­£ï¼Ÿ</h3>
                <div class="card">
                    <p><strong>ç‰©ç†å«ä¹‰ï¼š</strong>æŠŠä¸¤ä¸ªç›¸æœºçš„å›¾åƒå¹³é¢"å¯¹é½"åˆ°åŒä¸€å¹³é¢ï¼Œä½¿å¯¹åº”ç‚¹åœ¨åŒä¸€è¡Œ</p>
                    <p><strong>æ•°å­¦è¡¨è¾¾ï¼š</strong>å¯¹å›¾åƒè¿›è¡Œé‡æ˜ å°„ï¼Œç­‰æ•ˆäºç›¸æœºæ—‹è½¬äº†è§’åº¦ R_rect</p>
                    <p><strong>ç»“æœï¼š</strong>ç«‹ä½“åŒ¹é…åªéœ€æ²¿æ°´å¹³æ–¹å‘æœç´¢ï¼Œé€Ÿåº¦å¿«10å€ä»¥ä¸Š</p>
                </div>
                
                <div class="warning-box">
                    <strong>âš ï¸ å…³é”®ç†è§£ï¼š</strong>
                    <p>æçº¿çŸ«æ­£æ˜¯<strong>è™šæ‹Ÿæ—‹è½¬</strong>ï¼Œç›¸æœºç‰©ç†ä½ç½®æ²¡å˜ï¼Œä½†æ•°å­¦ä¸Šç­‰æ•ˆäºåæ ‡ç³»æ—‹è½¬äº† R_rectã€‚</p>
                </div>
                
                <h3>2.3 è½¬æ¢æ¨å¯¼è¿‡ç¨‹</h3>
                
                <div class="card">
                    <h4>ç¬¬ä¸€æ­¥ï¼šç†è§£çŸ«æ­£å˜æ¢</h4>
                    <div class="formula-box">
stereoRectify() è¿”å› R1 (å·¦ç›¸æœºçŸ«æ­£æ—‹è½¬çŸ©é˜µ)

å«ä¹‰ï¼šP_rect = R1 Ã— P_orig

å…¶ä¸­ï¼š
  P_orig: ç‚¹åœ¨åŸå§‹å·¦ç›¸æœºåæ ‡ç³»
  P_rect: ç‚¹åœ¨çŸ«æ­£åå·¦ç›¸æœºåæ ‡ç³»
                    </div>
                </div>
                
                <div class="card">
                    <h4>ç¬¬äºŒæ­¥ï¼šé€†çŸ«æ­£ï¼ˆå…³é”®ï¼‰</h4>
                    <div class="formula-box">
æˆ‘ä»¬çš„ç‚¹äº‘åœ¨çŸ«æ­£åï¼Œè¦è½¬å›åŸå§‹åæ ‡ç³»ï¼š

P_orig = R1^T Ã— P_rect

ä¸ºä»€ä¹ˆæ˜¯è½¬ç½®ï¼Ÿ
  â†’ R1 æ˜¯æ—‹è½¬çŸ©é˜µï¼ˆæ­£äº¤çŸ©é˜µï¼‰
  â†’ æ­£äº¤çŸ©é˜µçš„é€† = è½¬ç½®
  â†’ ç‰©ç†æ„ä¹‰ï¼šç›¸æœº"åè½¬"å›å»
                    </div>
                </div>
                
                <div class="card">
                    <h4>ç¬¬ä¸‰æ­¥ï¼šåº”ç”¨RGBå¤–å‚</h4>
                    <div class="formula-box">
æ ‡å®šå¾—åˆ°çš„å¤–å‚(R_rgb, T_rgb)æè¿°ï¼š
RGBç›¸æœºç›¸å¯¹åŸå§‹å·¦ç›¸æœºçš„ä½å§¿

è½¬æ¢å…¬å¼ï¼š
P_rgb = R_rgb Ã— P_orig + T_rgb
                    </div>
                </div>
                
                <div class="success-box">
                    <h4>âœ… ç¬¬å››æ­¥ï¼šåˆå¹¶å˜æ¢ï¼ˆæœ€ç»ˆå…¬å¼ï¼‰</h4>
                    <div class="formula-box">
ä»£å…¥æ¶ˆå»ä¸­é—´å˜é‡ P_origï¼š

P_rgb = R_rgb Ã— (R1^T Ã— P_rect) + T_rgb
      = (R_rgb Ã— R1^T) Ã— P_rect + T_rgb

<strong>æœ€ç»ˆå˜æ¢çŸ©é˜µï¼š</strong>
R_final = R_rgb @ R1.T
T_final = T_rgb
                    </div>
                </div>
                
                <div class="interactive-demo">
                    <h3>ğŸ”¢ çŸ©é˜µç»´åº¦éªŒè¯</h3>
                    <table>
                        <tr>
                            <th>å˜é‡</th>
                            <th>ç»´åº¦</th>
                            <th>è¯´æ˜</th>
                        </tr>
                        <tr>
                            <td>P_rect</td>
                            <td>(N, 3)</td>
                            <td>Nä¸ª3Dç‚¹</td>
                        </tr>
                        <tr>
                            <td>R1</td>
                            <td>(3, 3)</td>
                            <td>çŸ«æ­£æ—‹è½¬</td>
                        </tr>
                        <tr>
                            <td>R_rgb</td>
                            <td>(3, 3)</td>
                            <td>RGBå¤–å‚æ—‹è½¬</td>
                        </tr>
                        <tr>
                            <td>T_rgb</td>
                            <td>(3, 1)</td>
                            <td>RGBå¤–å‚å¹³ç§»</td>
                        </tr>
                        <tr class="green-row">
                            <td>R_final</td>
                            <td>(3, 3)</td>
                            <td>R_rgb @ R1.T âœ“</td>
                        </tr>
                        <tr class="green-row">
                            <td>P_rgb</td>
                            <td>(N, 3)</td>
                            <td>è½¬æ¢åç‚¹äº‘ âœ“</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <!-- ç¬¬ä¸‰éƒ¨åˆ†ï¼šç•¸å˜æŠ•å½± -->
            <div class="section">
                <h2>ğŸ¯ ä¸‰ã€è€ƒè™‘ç•¸å˜çš„é‡æŠ•å½±</h2>
                
                <h3>3.1 å®Œæ•´æŠ•å½±æµç¨‹</h3>
                <div class="flow-diagram">
                    <div class="flow-step">3Dç‚¹<br>(RGBåæ ‡ç³»)</div>
                    <span class="arrow">â†’</span>
                    <div class="flow-step">å½’ä¸€åŒ–åæ ‡<br>(x, y)</div>
                    <span class="arrow">â†’</span>
                    <div class="flow-step">åº”ç”¨ç•¸å˜<br>(x', y')</div>
                    <span class="arrow">â†’</span>
                    <div class="flow-step">åƒç´ åæ ‡<br>(u, v)</div>
                </div>
                
                <h3>3.2 ä¸ºä»€ä¹ˆè¦è€ƒè™‘ç•¸å˜ï¼Ÿ</h3>
                <div class="grid-2">
                    <div class="card">
                        <h4>ç†æƒ³æƒ…å†µï¼ˆæ— ç•¸å˜ï¼‰</h4>
                        <ul>
                            <li>ç›´çº¿æŠ•å½±ä»æ˜¯ç›´çº¿</li>
                            <li>ç½‘æ ¼ä¿æŒè§„æ•´</li>
                            <li>åªåœ¨ç†è®ºä¸­å­˜åœ¨</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h4>å®é™…æƒ…å†µï¼ˆæœ‰ç•¸å˜ï¼‰</h4>
                        <ul>
                            <li>å¹¿è§’é•œå¤´ï¼šæ¡¶å½¢ç•¸å˜</li>
                            <li>é•¿ç„¦é•œå¤´ï¼šæ•å½¢ç•¸å˜</li>
                            <li>åˆ¶é€ è¯¯å·®ï¼šåˆ‡å‘ç•¸å˜</li>
                        </ul>
                    </div>
                </div>
                
                <div class="warning-box">
                    <strong>âš ï¸ ä¸è€ƒè™‘ç•¸å˜çš„åæœï¼š</strong>
                    <ul>
                        <li>å›¾åƒè¾¹ç¼˜ï¼šæŠ•å½±è¯¯å·®å¯è¾¾ <span class="highlight">10-50åƒç´ </span></li>
                        <li>è´´å›¾é”™ä½ï¼šçº¹ç†ä¸¥é‡æ‰­æ›²å˜å½¢</li>
                        <li>3Dé‡å»ºï¼šå‡ ä½•ç²¾åº¦å¤§å¹…ä¸‹é™</li>
                    </ul>
                </div>
                
                <h3>3.3 è¯¦ç»†æŠ•å½±æ­¥éª¤</h3>
                
                <div class="card">
                    <h4>æ­¥éª¤1ï¸âƒ£ï¼š3Dåˆ°å½’ä¸€åŒ–å¹³é¢</h4>
                    <div class="formula-box">
ç»™å®šç‚¹ P_rgb = [X, Y, Z] åœ¨RGBç›¸æœºåæ ‡ç³»

å½’ä¸€åŒ–ï¼ˆé€è§†é™¤æ³•ï¼‰ï¼š
x_norm = X / Z
y_norm = Y / Z

<span class="yellow-highlight">â†’ è¿™æ˜¯ç†æƒ³é’ˆå­”æ¨¡å‹çš„åæ ‡ï¼ˆæ— ç•¸å˜ï¼‰</span>
                    </div>
                </div>
                
                <div class="card">
                    <h4>æ­¥éª¤2ï¸âƒ£ï¼šåº”ç”¨ç•¸å˜æ¨¡å‹</h4>
                    <p><strong>Brown-Conradyç•¸å˜æ¨¡å‹ï¼ˆOpenCVæ ‡å‡†ï¼‰ï¼š</strong></p>
                    
                    <div class="formula-box">
<strong>å¾„å‘ç•¸å˜ï¼ˆæ¡¶å½¢/æ•å½¢ï¼‰ï¼š</strong>
rÂ² = x_normÂ² + y_normÂ²
radial = 1 + k1Â·rÂ² + k2Â·râ´ + k3Â·râ¶

<strong>åˆ‡å‘ç•¸å˜ï¼ˆé€é•œåˆ¶é€ è¯¯å·®ï¼‰ï¼š</strong>
dx = 2Â·p1Â·x_normÂ·y_norm + p2Â·(rÂ² + 2Â·x_normÂ²)
dy = p1Â·(rÂ² + 2Â·y_normÂ²) + 2Â·p2Â·x_normÂ·y_norm

<strong>åˆå¹¶ç•¸å˜ï¼š</strong>
x_dist = x_norm Â· radial + dx
y_dist = y_norm Â· radial + dy
                    </div>
                    
                    <table class="top-margin">
                        <tr>
                            <th>ç•¸å˜ç³»æ•°</th>
                            <th>ç‰©ç†å«ä¹‰</th>
                            <th>å…¸å‹å€¼èŒƒå›´</th>
                        </tr>
                        <tr>
                            <td>k1</td>
                            <td>2é˜¶å¾„å‘ç•¸å˜</td>
                            <td>-0.5 ~ 0.5</td>
                        </tr>
                        <tr>
                            <td>k2</td>
                            <td>4é˜¶å¾„å‘ç•¸å˜</td>
                            <td>-0.1 ~ 0.1</td>
                        </tr>
                        <tr>
                            <td>k3</td>
                            <td>6é˜¶å¾„å‘ç•¸å˜</td>
                            <td>-0.05 ~ 0.05</td>
                        </tr>
                        <tr>
                            <td>p1, p2</td>
                            <td>åˆ‡å‘ç•¸å˜</td>
                            <td>-0.01 ~ 0.01</td>
                        </tr>
                    </table>
                </div>
                
                <div class="card">
                    <h4>æ­¥éª¤3ï¸âƒ£ï¼šå½’ä¸€åŒ–åˆ°åƒç´ </h4>
                    <div class="formula-box">
ä½¿ç”¨RGBç›¸æœºå†…å‚çŸ©é˜µï¼š

K_rgb = [fx   0  cx]
        [ 0  fy  cy]
        [ 0   0   1]

åƒç´ åæ ‡è®¡ç®—ï¼š
u = fx Â· x_dist + cx
v = fy Â· y_dist + cy

å…¶ä¸­ï¼š
  fx, fy: ç„¦è·ï¼ˆåƒç´ å•ä½ï¼‰
  cx, cy: ä¸»ç‚¹åæ ‡ï¼ˆå…‰è½´ä¸å›¾åƒå¹³é¢äº¤ç‚¹ï¼‰
                    </div>
                </div>
                
                <div class="success-box">
                    <h4>âœ… å®Œæ•´é‡æŠ•å½±å…¬å¼æ€»ç»“</h4>
                    <div class="formula-box">
<strong>è¾“å…¥ï¼š</strong>ç‚¹äº‘ P_rect (NÃ—3) åœ¨çŸ«æ­£åå·¦ç›¸æœºåæ ‡ç³»

<strong>è¾“å‡ºï¼š</strong>åƒç´ åæ ‡ (u, v)

<strong>å®Œæ•´æµç¨‹ï¼š</strong>

1ï¸âƒ£ åæ ‡è½¬æ¢ï¼š
   P_rgb = (R_rgb @ R1.T) @ P_rect.T + T_rgb
   â†’ [X, Y, Z] åœ¨RGBç›¸æœºåæ ‡ç³»

2ï¸âƒ£ å½’ä¸€åŒ–ï¼š
   x = X / Z
   y = Y / Z

3ï¸âƒ£ ç•¸å˜ï¼š
   rÂ² = xÂ² + yÂ²
   radial = 1 + k1Â·rÂ² + k2Â·râ´ + k3Â·râ¶
   x' = xÂ·radial + 2p1Â·xy + p2(rÂ²+2xÂ²)
   y' = yÂ·radial + p1(rÂ²+2yÂ²) + 2p2Â·xy

4ï¸âƒ£ åƒç´ åŒ–ï¼š
   u = fxÂ·x' + cx
   v = fyÂ·y' + cy
                    </div>
                </div>
            </div>
            
            <!-- ç¬¬å››éƒ¨åˆ†ï¼šå®Œæ•´å·¥ä½œæµç¨‹ -->
            <div class="section">
                <h2>âš™ï¸ å››ã€å®Œæ•´å·¥ä½œæµç¨‹</h2>
                
                <h3>4.1 ç¦»çº¿å‡†å¤‡é˜¶æ®µï¼ˆä¸€æ¬¡æ€§ï¼‰</h3>
                
                <div class="card">
                    <h4>æ­¥éª¤1ï¼šæ ‡å®šåŒç›®ç³»ç»Ÿ</h4>
                    <ul>
                        <li>æ‹æ‘„20-30å¯¹æ£‹ç›˜æ ¼å›¾åƒ</li>
                        <li>è·å¾—ï¼šå†…å‚ K_left, K_right, ç•¸å˜ dist_left, dist_right</li>
                        <li>è·å¾—ï¼šå¤–å‚ R_stereo, T_stereoï¼ˆå³ç›¸æœºç›¸å¯¹å·¦ç›¸æœºï¼‰</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>æ­¥éª¤2ï¼šæ ‡å®šRGBç›¸æœº</h4>
                    <ul>
                        <li>å•ç‹¬æ‹æ‘„20-30å¼ æ£‹ç›˜æ ¼</li>
                        <li>è·å¾—ï¼šå†…å‚ K_rgb, ç•¸å˜ dist_rgb</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>æ­¥éª¤3ï¼šè”åˆæ ‡å®šï¼ˆå…³é”®ï¼ï¼‰</h4>
                    <ul>
                        <li>ä¸‰ä¸ªç›¸æœº<span class="highlight">åŒæ—¶</span>æ‹æ‘„åŒä¸€æ£‹ç›˜æ ¼</li>
                        <li>æ‹æ‘„15-25ç»„ä¸åŒå§¿æ€</li>
                        <li>è·å¾—ï¼šR_rgb, T_rgbï¼ˆRGBç›¸å¯¹åŸå§‹å·¦ç›¸æœºï¼‰</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h4>æ­¥éª¤4ï¼šè®¡ç®—çŸ«æ­£å‚æ•°</h4>
                    <ul>
                        <li>è¿è¡Œ stereoRectify å‡½æ•°</li>
                        <li>è·å¾—ï¼šR1, R2ï¼ˆçŸ«æ­£æ—‹è½¬ï¼‰, P1, P2ï¼ˆæ–°æŠ•å½±çŸ©é˜µï¼‰, Qï¼ˆé‡æŠ•å½±çŸ©é˜µï¼‰</li>
                        <li><strong>âš ï¸ ä¸€å®šè¦ä¿å­˜ R1ï¼åç»­è½¬æ¢å¿…éœ€</strong></li>
                    </ul>
                </div>
                
                <div class="success-box">
                    <h4>æ­¥éª¤5ï¼šé¢„è®¡ç®—å˜æ¢çŸ©é˜µï¼ˆä¼˜åŒ–æ€§èƒ½ï¼‰</h4>
                    <div class="formula-box">
R_rect2rgb = R_rgb @ R1.T
T_rect2rgb = T_rgb

<span class="green-highlight">â†’ ä¿å­˜è¿™ä¸¤ä¸ªçŸ©é˜µï¼Œè¿è¡Œæ—¶ç›´æ¥ä½¿ç”¨ï¼Œé¿å…é‡å¤è®¡ç®—</span>
                    </div>
                </div>
                
                <h3>4.2 åœ¨çº¿è¿è¡Œé˜¶æ®µï¼ˆå®æ—¶ï¼‰</h3>
                
                <div class="flow-diagram">
                    <h4>å®æ—¶å¤„ç†æµç¨‹</h4>
                    <div class="top-margin text-left">
                        <div class="card">
                            <strong>è¾“å…¥ï¼š</strong>åŒç›®monoå›¾åƒå¯¹ + RGBå½©è‰²å›¾åƒï¼ˆåŒæ­¥é‡‡é›†ï¼‰
                        </div>
                        
                        <div class="card">
                            <strong>æ­¥éª¤1ï¼šåŒç›®çŸ«æ­£</strong>
                            <p>ä½¿ç”¨é¢„è®¡ç®—çš„æ˜ å°„è¡¨å¿«é€Ÿé‡æ˜ å°„</p>
                        </div>
                        
                        <div class="card">
                            <strong>æ­¥éª¤2ï¼šç«‹ä½“åŒ¹é…</strong>
                            <p>è®¡ç®—è§†å·®å›¾ï¼ˆSGBM/BMç®—æ³•ï¼‰</p>
                        </div>
                        
                        <div class="card">
                            <strong>æ­¥éª¤3ï¼šè§†å·®è½¬ç‚¹äº‘</strong>
                            <p>ä½¿ç”¨QçŸ©é˜µé‡æŠ•å½±åˆ°3Dï¼ˆçŸ«æ­£åå·¦ç›¸æœºåæ ‡ç³»ï¼‰</p>
                        </div>
                        
                        <div class="card">
                            <strong>æ­¥éª¤4ï¼šåæ ‡è½¬æ¢</strong>
                            <p>åº”ç”¨ R_rect2rgb å’Œ T_rect2rgb</p>
                        </div>
                        
                        <div class="card">
                            <strong>æ­¥éª¤5ï¼šå¸¦ç•¸å˜çš„æŠ•å½±</strong>
                            <p>å½’ä¸€åŒ– â†’ ç•¸å˜ â†’ åƒç´ åŒ–</p>
                        </div>
                        
                        <div class="card">
                            <strong>æ­¥éª¤6ï¼šæå–é¢œè‰²</strong>
                            <p>æœ‰æ•ˆæ€§æ£€æŸ¥ + åŒçº¿æ€§æ’å€¼</p>
                        </div>
                        
                        <div class="card success-card">
                            <strong>è¾“å‡ºï¼š</strong>å¸¦RGBé¢œè‰²çš„é«˜è´¨é‡ç‚¹äº‘
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ç¬¬äº”éƒ¨åˆ†ï¼šå…³é”®æŠ€æœ¯ç»†èŠ‚ -->
            <div class="section">
                <h2>ğŸ”§ äº”ã€å…³é”®æŠ€æœ¯ç»†èŠ‚</h2>
                
                <h3>5.1 æœ‰æ•ˆæ€§æ£€æŸ¥</h3>
                <div class="card">
                    <p>æŠ•å½±ç‚¹å¿…é¡»åŒæ—¶æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p>
                    <div class="formula-box">
1. æ·±åº¦æ£€æŸ¥ï¼šZ_rgb > 0
   â†’ ç‚¹åœ¨RGBç›¸æœºå‰æ–¹

2. è¾¹ç•Œæ£€æŸ¥ï¼š
   0 â‰¤ u < image_width
   0 â‰¤ v < image_height
   â†’ æŠ•å½±åœ¨å›¾åƒå†…

3. æ·±åº¦åˆç†æ€§ï¼ˆå¯é€‰ï¼‰ï¼š
   Z_min < Z_rgb < Z_max
   â†’ è¿‡æ»¤å¼‚å¸¸å™ªå£°ç‚¹

4. è§†å·®æœ‰æ•ˆæ€§ï¼š
   disparity > min_disparity
   â†’ ç«‹ä½“åŒ¹é…æˆåŠŸçš„ç‚¹
                    </div>
                </div>
                
                <h3>5.2 æ—¶é—´åŒæ­¥</h3>
                <div class="warning-box">
                    <strong>âš ï¸ å…³é”®é—®é¢˜ï¼š</strong>
                    <p>ä¸‰ä¸ªç›¸æœºé‡‡é›†æ—¶åˆ»ä¸ä¸€è‡´ä¼šå¯¼è‡´åŠ¨æ€åœºæ™¯ä¸­ç‚¹äº‘å’Œçº¹ç†é”™ä½</p>
                    